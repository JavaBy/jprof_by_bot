package by.jprof.telegram.bot.pins.utils

import org.junit.jupiter.api.Assertions
import org.junit.jupiter.api.TestInstance
import org.junit.jupiter.params.ParameterizedTest
import org.junit.jupiter.params.provider.Arguments
import org.junit.jupiter.params.provider.MethodSource
import java.util.stream.Stream

@TestInstance(TestInstance.Lifecycle.PER_CLASS)
internal class MessagesTest {
    @ParameterizedTest(name = "Message: {0}, pins: {1}")
    @MethodSource
    fun help(message: Int, pins: Int, expected: String) {
        Assertions.assertEquals(expected, help(pins, message))
    }

    @ParameterizedTest(name = "Message: {0}, pins: {1}, price: {2}")
    @MethodSource
    fun beggar(message: Int, pins: Int, price: Int, expected: String) {
        Assertions.assertEquals(expected, beggar(pins, price, message))
    }

    private fun help() = Stream.of(
        Arguments.of(
            0,
            0,
            """–≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ–ø–ª–∞–µ–º –Ω–∞ –∫–∞–∫–æ–µ\-–Ω–∏–±—É–¥—å —Å–æ–æ–±—â–µ–Ω–∏–µ\.
                |
                |–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç 1 –ø–∏–Ω –≤ —á–∞—Å\, c –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–≤–µ—Ä—Ö\.
                |–ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –æ—Ç–∫—Ä–µ–ø–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞\.
                |–ü–∏–Ω—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–∏\.
                |
                |–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\: 1 —á–∞—Å\.
                |–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥—É—é –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\, —É–∫–∞–∑–∞–≤ –µ—ë –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã `/pin`\, –Ω–∞–ø—Ä–∏–º–µ—Ä\: `/pin 2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç` –∏–ª–∏ `/pin 1 day`\.
                |
                |–ó–∞ –∫–∞–∂–¥—ã–π —Ä–µ–ø–ª–∞–π –∫ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –∑–∞–∫—Ä–µ–ø–∏—Ç–µ–ª—é –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 1 –ø–∏–Ω\.
                |
                |–£ —Ç–µ–±—è –Ω–µ—Ç –ø–∏–Ω–æ–≤ ü•∫
            """.trimMargin()
        ),
        Arguments.of(
            0,
            1,
            """–≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ–ø–ª–∞–µ–º –Ω–∞ –∫–∞–∫–æ–µ\-–Ω–∏–±—É–¥—å —Å–æ–æ–±—â–µ–Ω–∏–µ\.
                |
                |–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç 1 –ø–∏–Ω –≤ —á–∞—Å\, c –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–≤–µ—Ä—Ö\.
                |–ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –æ—Ç–∫—Ä–µ–ø–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞\.
                |–ü–∏–Ω—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–∏\.
                |
                |–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\: 1 —á–∞—Å\.
                |–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥—É—é –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\, —É–∫–∞–∑–∞–≤ –µ—ë –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã `/pin`\, –Ω–∞–ø—Ä–∏–º–µ—Ä\: `/pin 2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç` –∏–ª–∏ `/pin 1 day`\.
                |
                |–ó–∞ –∫–∞–∂–¥—ã–π —Ä–µ–ø–ª–∞–π –∫ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –∑–∞–∫—Ä–µ–ø–∏—Ç–µ–ª—é –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 1 –ø–∏–Ω\.
                |
                |–£ —Ç–µ–±—è 1 –ø–∏–Ω üòê
            """.trimMargin()
        ),
        Arguments.of(
            0,
            3,
            """–≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ–ø–ª–∞–µ–º –Ω–∞ –∫–∞–∫–æ–µ\-–Ω–∏–±—É–¥—å —Å–æ–æ–±—â–µ–Ω–∏–µ\.
                |
                |–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç 1 –ø–∏–Ω –≤ —á–∞—Å\, c –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–≤–µ—Ä—Ö\.
                |–ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –æ—Ç–∫—Ä–µ–ø–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞\.
                |–ü–∏–Ω—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–∏\.
                |
                |–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\: 1 —á–∞—Å\.
                |–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥—É—é –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\, —É–∫–∞–∑–∞–≤ –µ—ë –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã `/pin`\, –Ω–∞–ø—Ä–∏–º–µ—Ä\: `/pin 2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç` –∏–ª–∏ `/pin 1 day`\.
                |
                |–ó–∞ –∫–∞–∂–¥—ã–π —Ä–µ–ø–ª–∞–π –∫ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –∑–∞–∫—Ä–µ–ø–∏—Ç–µ–ª—é –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 1 –ø–∏–Ω\.
                |
                |–£ —Ç–µ–±—è 3 –ø–∏–Ω–∞ üôÇ
            """.trimMargin()
        ),
        Arguments.of(
            0,
            7,
            """–≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ–ø–ª–∞–µ–º –Ω–∞ –∫–∞–∫–æ–µ\-–Ω–∏–±—É–¥—å —Å–æ–æ–±—â–µ–Ω–∏–µ\.
                |
                |–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç 1 –ø–∏–Ω –≤ —á–∞—Å\, c –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–≤–µ—Ä—Ö\.
                |–ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –æ—Ç–∫—Ä–µ–ø–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞\.
                |–ü–∏–Ω—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–∏\.
                |
                |–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\: 1 —á–∞—Å\.
                |–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥—É—é –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\, —É–∫–∞–∑–∞–≤ –µ—ë –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã `/pin`\, –Ω–∞–ø—Ä–∏–º–µ—Ä\: `/pin 2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç` –∏–ª–∏ `/pin 1 day`\.
                |
                |–ó–∞ –∫–∞–∂–¥—ã–π —Ä–µ–ø–ª–∞–π –∫ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –∑–∞–∫—Ä–µ–ø–∏—Ç–µ–ª—é –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 1 –ø–∏–Ω\.
                |
                |–£ —Ç–µ–±—è 7 –ø–∏–Ω–æ–≤ üòâ
            """.trimMargin()
        ),
        Arguments.of(
            0,
            20,
            """–≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ–ø–ª–∞–µ–º –Ω–∞ –∫–∞–∫–æ–µ\-–Ω–∏–±—É–¥—å —Å–æ–æ–±—â–µ–Ω–∏–µ\.
                |
                |–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç 1 –ø–∏–Ω –≤ —á–∞—Å\, c –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–≤–µ—Ä—Ö\.
                |–ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –æ—Ç–∫—Ä–µ–ø–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞\.
                |–ü–∏–Ω—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–∏\.
                |
                |–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\: 1 —á–∞—Å\.
                |–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥—É—é –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\, —É–∫–∞–∑–∞–≤ –µ—ë –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã `/pin`\, –Ω–∞–ø—Ä–∏–º–µ—Ä\: `/pin 2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç` –∏–ª–∏ `/pin 1 day`\.
                |
                |–ó–∞ –∫–∞–∂–¥—ã–π —Ä–µ–ø–ª–∞–π –∫ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –∑–∞–∫—Ä–µ–ø–∏—Ç–µ–ª—é –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 1 –ø–∏–Ω\.
                |
                |–£ —Ç–µ–±—è 20 –ø–∏–Ω–æ–≤ üòé
            """.trimMargin()
        ),
        Arguments.of(
            0,
            50,
            """–≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ–ø–ª–∞–µ–º –Ω–∞ –∫–∞–∫–æ–µ\-–Ω–∏–±—É–¥—å —Å–æ–æ–±—â–µ–Ω–∏–µ\.
                |
                |–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç 1 –ø–∏–Ω –≤ —á–∞—Å\, c –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–≤–µ—Ä—Ö\.
                |–ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –æ—Ç–∫—Ä–µ–ø–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞\.
                |–ü–∏–Ω—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–∏\.
                |
                |–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\: 1 —á–∞—Å\.
                |–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥—É—é –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å\, —É–∫–∞–∑–∞–≤ –µ—ë –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã `/pin`\, –Ω–∞–ø—Ä–∏–º–µ—Ä\: `/pin 2 —á–∞—Å–∞ 30 –º–∏–Ω—É—Ç` –∏–ª–∏ `/pin 1 day`\.
                |
                |–ó–∞ –∫–∞–∂–¥—ã–π —Ä–µ–ø–ª–∞–π –∫ –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –∑–∞–∫—Ä–µ–ø–∏—Ç–µ–ª—é –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è 1 –ø–∏–Ω\.
                |
                |–£ —Ç–µ–±—è 50 –ø–∏–Ω–æ–≤ ü§ë
            """.trimMargin()
        ),
    )

    private fun beggar() = Stream.of(
        Arguments.of(
            0,
            0,
            1,
            "–£ —Ç–µ–±—è –Ω–µ—Ç –ø–∏–Ω–æ–≤, –∞ –Ω—É–∂–µ–Ω 1 –ø–∏–Ω"
        ),
        Arguments.of(
            0,
            0,
            2,
            "–£ —Ç–µ–±—è –Ω–µ—Ç –ø–∏–Ω–æ–≤, –∞ –Ω—É–∂–Ω–æ 2 –ø–∏–Ω–∞"
        ),
        Arguments.of(
            0,
            0,
            5,
            "–£ —Ç–µ–±—è –Ω–µ—Ç –ø–∏–Ω–æ–≤, –∞ –Ω—É–∂–Ω–æ 5 –ø–∏–Ω–æ–≤"
        ),
        Arguments.of(
            0,
            1,
            2,
            "–£ —Ç–µ–±—è 1 –ø–∏–Ω, –∞ –Ω—É–∂–Ω–æ 2 –ø–∏–Ω–∞"
        ),
        Arguments.of(
            0,
            1,
            6,
            "–£ —Ç–µ–±—è 1 –ø–∏–Ω, –∞ –Ω—É–∂–Ω–æ 6 –ø–∏–Ω–æ–≤"
        ),
        Arguments.of(
            0,
            2,
            7,
            "–£ —Ç–µ–±—è 2 –ø–∏–Ω–∞, –∞ –Ω—É–∂–Ω–æ 7 –ø–∏–Ω–æ–≤"
        ),
        Arguments.of(
            0,
            6,
            8,
            "–£ —Ç–µ–±—è 6 –ø–∏–Ω–æ–≤, –∞ –Ω—É–∂–Ω–æ 8 –ø–∏–Ω–æ–≤"
        ),
    )
}
